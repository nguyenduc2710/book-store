<div class="cart-container" *ngIf="vm$ | async as vm">
  <div class="cart-header">
    <div [ngSwitch]="vm.numbersOfItem">
      <div [ngSwitch]="vm.numbersOfItem > 1">
        <div *ngSwitchCase="true"> Review your bag (current {{ vm.numbersOfItem }} products)</div>
      </div>
      <div *ngSwitchCase="1"> Review your bag (current {{vm.numbersOfItem}} product)</div>
      <div *ngSwitchCase="0">You haven't added any products!</div>
    </div>
    <hr>
  </div>
  <div class="cart-body">
    <nz-list>
      <app-prd-item *ngFor="let item of vm.cartItems" [bookItem]="item.item"
        [quantity]="item.numbersOfItem"></app-prd-item>
    </nz-list>
  </div>
  <ng-container *ngIf="totalBook > 0; then cartFooter"></ng-container>

  <ng-template #cartFooter>
    <div class="cart-footer">
      <div class="footer-subtotal">
        <div class="footer-item">
          <div class="item_title">SUBTOTAL:</div>
          <div>{{vm.totalPrice | currency}}</div>
        </div>
        <div class="footer-item">
          <div class="item_title">VAT:</div>
          <div>4%</div>
        </div>
        <div class="footer-item">
          <div class="item_title">SHIPPING:</div>
          <div>FREE</div>
        </div>
        <hr>
      </div>
      <div class="footer-total">
        <div class="total_title">
          TOTAL:
        </div>
        <div class="total_price">
          {{vm.totalPrice + (vm.totalPrice * 0.04) | currency}}
        </div>
      </div>
      <div class="footer-checkout">
        <button routerLink="/checkout" class="btn btn-outline-success btn-checkout">
          Checkout
        </button>
        <button (click)="test()">test</button>
      </div>
    </div>
  </ng-template>
</div>
